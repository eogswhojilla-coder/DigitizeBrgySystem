import{r as y,j as e,s as v}from"./app-Cb6N8Pr9.js";import{B as u}from"./button-CXnLGtX-.js";import S from"./section1-Bpx2xuyO.js";import k from"./section2-DpkpdHxw.js";import B from"./section3-B-y42yXv.js";import A from"./section4-C8oIyH8Y.js";import{u as C}from"./index.esm-TtWAzZ-z.js";import{c as E}from"./activity-thunk-DypL5991.js";import{S as _}from"./sweetalert2.esm.all-EtYCW2yB.js";import{h as z}from"./moment-G82_0lEo.js";import{F as D}from"./CheckIcon-D-Jk9F4r.js";import"./index-Bcr0Drpf.js";import"./checkbox-ChelNTxT.js";import"./input-DIAWqMx1.js";import"./wysiwyg-6e0yl_Xk.js";import"./index-CSblX1az.js";import"./useId-CiV_AwmC.js";import"./index-K3QCNnk7.js";import"./useVariants-C8UKR2as.js";import"./motion-BFnHLyuv.js";import"./roundedArrow-BwlrwBb8.js";import"./collapse-BbEVqHco.js";import"./zoom-BmSHeEvP.js";import"./ContextIsolator-CZicurto.js";import"./presetColors-DLnX3ho6.js";import"./EyeOutlined-BfJKv1BA.js";import"./CheckCircleFilled-7ozYe_tn.js";import"./colors-BXK55aUQ.js";import"./index-CQL04YsW.js";function d(...t){return t.filter(Boolean).join(" ")}function oe(){const[t,p]=y.useState(0),{register:m,handleSubmit:x,control:c,reset:h,formState:{errors:n,isSubmitting:g}}=C(),a=[{id:"01",name:"Activity",description:"1st Section",href:"#",status:"complete"},{id:"02",name:"Book Schedule",description:"2nd Section",href:"#",status:"current"},{id:"03",name:"Book Pricing",description:"3rd Section",href:"#",status:"upcoming"},{id:"04",name:"Add Ons",description:"4th Section",href:"#",status:"upcoming"}],j=()=>{x(s=>{t<a.length-1&&p(t+1)})()},b=()=>{t>0&&p(t-1)},N=a.map((s,r)=>r<t?{...s,status:"complete"}:r===t?{...s,status:"current"}:{...s,status:"upcoming"}),w=async s=>{const r=new FormData;r.append("product_code",`PRODC${z().format("MMDDYYYYHHmmss")}`),Object.entries(s).forEach(([i,l])=>{i!=="files"&&(Array.isArray(l)&&i==="age_groups"?l.forEach((o,f)=>{r.append(`age_groups[${f}][name]`,o.name),r.append(`age_groups[${f}][min]`,o.min),r.append(`age_groups[${f}][max]`,o.max)}):Array.isArray(l)?l.forEach(o=>r.append(`${i}[]`,o)):r.append(i,l))}),s.files.forEach(i=>{r.append("files[]",i.originFileObj)}),await v.dispatch(E(r)),await _.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),h(),p(0)};return console.log("errors",n),e.jsxs("div",{children:[e.jsx("div",{className:"lg:border-t lg:border-b lg:border-gray-200",children:e.jsx("nav",{"aria-label":"Progress",className:"mx-auto max-w-7xl",children:e.jsx("ol",{role:"list",className:"overflow-hidden rounded-md lg:flex lg:rounded-none lg:border-r lg:border-l lg:border-gray-200",children:N.map((s,r)=>e.jsx("li",{className:"relative overflow-hidden lg:flex-1",children:e.jsxs("div",{className:d(r===0?"rounded-t-md border-b-0":"",r===a.length-1?"rounded-b-md border-t-0":"","overflow-hidden border border-gray-200 lg:border-0"),children:[s.status==="complete"?e.jsxs("div",{className:"group",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute top-0 left-0 h-full w-1 bg-transparent group-hover:bg-gray-200 lg:top-auto lg:bottom-0 lg:h-1 lg:w-full"}),e.jsxs("span",{className:d(r!==0?"lg:pl-9":"","flex items-start px-6 py-5 text-sm font-medium"),children:[e.jsx("span",{className:"shrink-0",children:e.jsx("span",{className:"flex size-10 items-center justify-center rounded-full bg-red-500",children:e.jsx(D,{"aria-hidden":"true",className:"size-6 text-white"})})}),e.jsxs("span",{className:"mt-0.5 ml-4 flex min-w-0 flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:s.name}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:s.description})]})]})]}):s.status==="current"?e.jsxs("div",{"aria-current":"step",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute top-0 left-0 h-full w-1 bg-red-500 lg:top-auto lg:bottom-0 lg:h-1 lg:w-full"}),e.jsxs("span",{className:d(r!==0?"lg:pl-9":"","flex items-start px-6 py-5 text-sm font-medium"),children:[e.jsx("span",{className:"shrink-0",children:e.jsx("span",{className:"flex size-10 items-center justify-center rounded-full border-2 border-red-500",children:e.jsx("span",{className:"text-red-500",children:s.id})})}),e.jsxs("span",{className:"mt-0.5 ml-4 flex min-w-0 flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-red-500",children:s.name}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:s.description})]})]})]}):e.jsxs("div",{className:"group",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute top-0 left-0 h-full w-1 bg-transparent group-hover:bg-gray-200 lg:top-auto lg:bottom-0 lg:h-1 lg:w-full"}),e.jsxs("span",{className:d(r!==0?"lg:pl-9":"","flex items-start px-6 py-5 text-sm font-medium"),children:[e.jsx("span",{className:"shrink-0",children:e.jsx("span",{className:"flex size-10 items-center justify-center rounded-full border-2 border-gray-300",children:e.jsx("span",{className:"text-gray-500",children:s.id})})}),e.jsxs("span",{className:"mt-0.5 ml-4 flex min-w-0 flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:s.name}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:s.description})]})]})]}),r!==0&&e.jsx("div",{"aria-hidden":"true",className:"absolute inset-0 top-0 left-0 hidden w-3 lg:block",children:e.jsx("svg",{fill:"none",viewBox:"0 0 12 82",preserveAspectRatio:"none",className:"size-full text-gray-300",children:e.jsx("path",{d:"M0.5 0V31L10.5 41L0.5 51V82",stroke:"currentColor",vectorEffect:"non-scaling-stroke"})})})]})},s.id))})})}),e.jsx("div",{className:"min-h-[75vh] w-full flex flex-col items-center justify-between",children:e.jsxs("form",{onSubmit:x(w),className:"py-3 w-full items-center gap-5 flex-col flex justify-center  lg:max-w-2xl",children:[e.jsxs("div",{className:"w-full",children:[t==0&&e.jsx(S,{register:m,errors:n,control:c}),t==1&&e.jsx(k,{register:m,errors:n,control:c}),t==2&&e.jsx(B,{register:m,control:c,errors:n}),t==3&&e.jsx(A,{register:m,errors:n,control:c})]}),e.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[e.jsx("div",{children:e.jsx(u,{variant:"danger",onClick:b,disabled:t===0,children:"BACK"})}),e.jsxs("div",{children:[t!=a.length-1&&e.jsx(u,{variant:"danger",type:"button",onClick:j,disabled:t===a.length-1,children:"NEXT"}),t==a.length-1&&e.jsx(u,{variant:"danger",type:"submit",loading:g,children:"SUBMIT"})]})]})]})})]})}export{oe as default};
